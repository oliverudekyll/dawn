<div class="product">
  <div class="container">
    <div class="product__media">
      {% if product.featured_media != blank %}
        <img
          src="{{ product.featured_media | img_url: 'large' }}"
          alt="{{ product.featured_media.alt | default: product.title }}"
        >
      {% else %}
        {{ 'product-1' | placeholder_svg_tag: 'product__media-placeholder' }}
      {% endif %}

      {% if product.media.size > 1 %}
        <div class="product__media-list">
          {% for media in product.media %}
            <div class="product__media-item">
              <img src="{{ media | img_url: 'compact' }}" alt="{{ media.alt | default: product.title }}">
            </div>
          {% endfor %}
        </div>
      {% endif %}
    </div>

    <div class="product__details">
      <h1>{{ product.title }}</h1>

      <div class="product__price">
        <span>{{ product.price | money }}</span>
        {% if product.compare_at_price_max > product.price %}
          <s>{{ product.compare_at_price | money }}</s>
        {% endif %}
      </div>

      {% if product.description != blank %}
        <div class="product__description">
          {{ product.description }}
        </div>
      {% endif %}

      {% form 'product', product %}
        <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">

        {% if product.has_only_default_variant == false %}
          {% for option in product.options_with_values %}
            <div class="product__option">
              <label for="Option-{{ forloop.index }}">{{ option.name }}</label>
              <select id="Option-{{ forloop.index }}" name="options[{{ option.name }}]">
                {% for value in option.values %}
                  <option
                    value="{{ value }}"
                    {% if option.selected_value == value %}
                      selected="selected"
                    {% endif %}
                  >
                    {{ value }}
                  </option>
                {% endfor %}
              </select>
            </div>
          {% endfor %}
        {% endif %}

        <div class="product__quantity">
          <label for="Quantity">Quantity</label>
          <input type="number" id="Quantity" name="quantity" value="1" min="1">
        </div>

        <button
          type="submit"
          name="add"
          {% if product.available == false %}
            disabled
          {% endif %}
        >
          {% if product.available %}
            Add to cart
          {% else %}
            Sold out
          {% endif %}
        </button>
      {% endform %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Product",
  "settings": []
}
{% endschema %}
