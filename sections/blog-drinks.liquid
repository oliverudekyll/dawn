{% comment %}
  This section displays beer metaobjects on the beers page
{% endcomment %}

<div class="drinks-page">
  <h1>{{ blogs[handle].title }}</h1>
  {% assign length = blogs[handle].articles.size %}
  <p>Length: {{ length }}</p>

  <div class="articles-grid">
    {% assign rawArticles = blogs[handle].articles %}
    {% assign articles = rawArticles | sort: 'title' %}
    {% if articles.size > 0 %}
      {% for article in articles %}
        <a href="{{article.url}}">
          <article>
            <img
              src="{{ article.image | img_url: '300x300' }}"
              width="300"
              height="300"
              alt="{{ article.title }}"
            >
            <h2>
              {{ article.title }}
            </h2>
            <p>
              {{ article.content | strip_html }}
            </p>
          </article>
        </a>
      {% endfor %}
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Beers Collection",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Our Beers"
    },
    {
      "type": "select",
      "id": "layout",
      "label": "Layout",
      "options": [
        {
          "value": "grid",
          "label": "Grid"
        },
        {
          "value": "list",
          "label": "List"
        }
      ],
      "default": "grid"
    }
  ],
  "presets": [
    {
      "name": "Beers Collection",
      "category": "Custom Content"
    }
  ]
}
{% endschema %}
